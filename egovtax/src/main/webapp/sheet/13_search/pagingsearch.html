<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />	
<script type="text/javascript" src="../js/common.js"></script>
<script language="javascript" src="../sheet/ibsheetinfo.js"></script>
<script language="javascript" src="../sheet/ibsheet.js"></script>
<title>IBSheet7-Product</title>
</head>

<script language="javascript">
	
	var cfg = null;
	var pageheightoffset = 190;




	/* Sheet 기본 설정 */
	function LoadPage() {
//		alert(mySheet.Version());
		cfg = {SearchMode:1,Page:50,MergeSheet:msHeaderOnly};
			var headers = [ {Text:"개봉일|영화명|영문제목|감독|주연배우|등급", Align:"Center"} ];
			var info = {Sort:1,ColMove:1,ColResize:1,HeaderCheck:0};
			var cols = [
				{Type:"Date",Width:85,SaveName:"OPEN_DATE",Format:"Ymd",Align:"Center"},
				{Type:"Text",Width:180,SaveName:"MOVIE_NM"},
				{Type:"Text",Width:150,SaveName:"ENG_NM"},
				{Type:"Text",Width:120,SaveName:"DIRECTOR"},
				{Type:"Text",Width:150,SaveName:"ACTOR"},
				{Type:"Combo",Width:50,SaveName:"FILM_RATE",Align:"Center",ComboText:"12세|15세|18세|전체|청불",ComboCode:"01|02|03|04|05"}
			];

			mySheet.SetConfig(cfg);
			mySheet.InitHeaders(headers,info);
			mySheet.InitColumns(cols);

			mySheet.SetCountPosition(4);
			mySheet.SetPagingPosition(1)
			mySheet.FitColWidth();
			
			
	}
	


	/*Sheet 각종 처리*/
	function doAction(sAction) {
		switch(sAction) {
			case "search":      //조회
				mySheet.DoSearch("MOVIE01.json");
				break;
			case "reload":
			alert(cc);
				mySheet.RemoveAll();
				mySheet.FitColWidth();
				break;
			case "save":
				alert(mySheet.GetSaveString());
				break;
		}
	}
	var cc =0;
	function mySheet_OnRowSearchEnd(){
			cc++;
	}

	/* IB Sheet 7 Event */
	function mySheet_OnSearchEnd() {
//		makePageIndex(1);
		mySheet.FitColWidth();
	}

	function mySheet_OnResize() {
		mySheet.FitColWidth();
	}


//	function mySheet_OnSort(Col,SortArrow){
//		var nowPage = mySheet.GetCurrentPage();
//		makePageIndex(nowPage);	
//	}
</script>

<body onload="LoadPage()">
        <div class="page_title">
            <span><a class="closeDepth" href="#">closeDepth</a></span>
            <span class="title">데이터 조회 > <b>페이징조회</b></span>
        </div>
                
        <div class="main_content">
            <div class="exp_product">
                전체 데이터를 조회 후 일정 건수만 화면에 로딩하고, 페이지버튼을 누르때 마다 조회된 데이터 중에 페이지에 해당하는 데이터를 화면에 보여준다.
            </div>
        
            <div class="ib_function float_right">
                <a href="javascript:doAction('reload')" class="f1_btn_gray lightgray">초기화</a>
                <a href="javascript:doAction('search')" class="f1_btn_white gray">조회</a>
            </div>
            
            <div class="clear hidden"></div>  

			<p class="subtit_sheet">조회리스트</p>
            <div class="ib_product">
							<script type="text/javascript"> createIBSheet("mySheet", "100%", "100%"); </script>
            </div>
            <!-- 옛날 방식 페이징 
						<div class="space" style="height:5px"></div>  
	          <div id="pageindex" style="align:center"></div>            
	          -->
        </div>
        <!--main_content-->

</body>
</html>








