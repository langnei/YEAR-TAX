<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />	

<link rel="stylesheet" href="../../css/style.css"/>
<script type="text/javascript" src="../js/common.js"></script>
<script language="javascript" src="../sheet/ibsheetinfo.js"></script>
<script language="javascript" src="../sheet/ibsheet.js"></script>
<title>IBSheet7-Product</title>
</head>

<script language="javascript">
	var pageheightoffset = 270;

	/*Sheet 기본 설정 */
	function LoadPage() {
		mySheet.SetConfig({ChildPage:5});
		var headers = [
			{Text:"상태|삭제|구/동|우편번호|주소|트리\n레벨", Align:"Center"}
		];
		var cols = [
			{Type:"Status", Align:"Center"},
			{Type:"DelCheck", Align:"Center"},
			{Type:"Text", Width:250, TreeCol:1,LevelSaveName:"TREELEVEL"},
			{Type:"Text", Width:65, Align:"Center",Format:"PostNo"},
			{Type:"Text", Width:370, Align:"Left"},
			{Type:"Int", Width:40, Align:"Center"}
		];
		
		mySheet.InitHeaders(headers);
		mySheet.InitColumns(cols);
		mySheet.FitColWidth();
		doAction('search');
	}

	/*Sheet 각종 처리*/
	function doAction(sAction) {
		switch(sAction) {
			case "search":
				mySheet.DoSearch("tree_data.xml");
				break;
			case "reload":
				mySheet.RemoveAll();
				break;
			case "save":      
				var str = mySheet.GetSaveString();
				alert(str);
				break;
			case "insert":
				mySheet.DataInsert(); 
				break; 
		}
	}

	function doEvent(obj, val){
		val = parseInt(val);
		switch (obj){
			case "open":
				var openlevel = parseInt(document.getElementById("levelCombo").value);
				var childopen = parseInt(document.getElementById("openCombo").value);
				mySheet.ShowTreeLevel(openlevel,childopen);
				break;

			case "act":
				mySheet.SetTreeActionMode(val); 
				break;
		}
	}
	function mySheet_OnSearchEnd(code,m){
	
		if($(window).width()>1300){
			mySheet.FitColWidth();	
		}else{
			mySheet.FitSize(0,1);		
		}
	}
</script>

<body onLoad="LoadPage()">
        <div class="page_title">
            <span><a class="closeDepth" href="#">closeDepth</a></span>
            <span class="title">트리(Tree) 기능 > <b>트리 일반</b></span>
        </div>
                
        <div class="main_content">
            <div class="exp_product">
                트리 컬럼 기본 기능을 확인한다. 
            </div>
        
            <div class="ib_function float_right">
                <a href="javascript:doAction('reload')" class="f1_btn_gray lightgray">초기화</a>
                <a href="javascript:doAction('insert')" class="f1_btn_gray lightgray">추가</a>
                <a href="javascript:doAction('search')" class="f1_btn_white gray">조회</a>
                <a href="javascript:doAction('save')" class="f1_btn_white gray">저장</a>
            </div>

			<div class="clear hidden"></div>  
            
            
            <div class="ib_function2 border_sheet">
			   <table class="ib_basic">
					<tr>
						<th class="tit">보여질레벨</th>
						<td class="r20">
							<select id="levelCombo"  class="selectbox">
								<option value="0" selected="selected">모두 접기</option>
								<option value="-1" selected="selected">모두 펼치기</option>
								<option value="1">1레벨까지</option>
								<option value="2">2레벨까지</option>
								<option value="3">3레벨까지</option>
							</select> 
						</td>
						<th class="tit">자식레벨</th>
						<td class="r20">
							<select id="openCombo" class="selectbox"  style="width:100%">
								<option value="0" selected="selected">이전상태유지</option>
								<option value="1">모두 접음</option>
								<option value="2">모두 펼침</option>
							</select>
						</td>
						<td rowspan="2"><a href="javascript:doEvent('open',0);" class="f2_btn_white btn_sheet">적용</a></td>
					</tr>
					<tr>
						<th class="tit">처리방식</th>
						<td class="r20" colspan="3">
							<select id="treeActionCombo"  onchange="doEvent('act',this.value)" class="selectbox" style="width:100%">
								<option value="0" selected="selected">자식유 삭제불가, 부모=삭제 삭제취소불가</option>
								<option value="1">삭제체크 시 자식까지 삭제체크</option>
							</select>
						</td>
					</tr>
				</table>
			</div>

			<p class="subtit_sheet">조회리스트</p>
            <div class="ib_product">
				<script type="text/javascript"> createIBSheet("mySheet", "100%", "100%"); </script>
            </div>
        </div>
        <!--main_content-->

</body>
</html>








